<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Анализ текста</title>
</head>
<body>
    <h1>Анализ текста и отчет</h1>
    <form method="POST" enctype="multipart/form-data">
        <label>Загрузите текстовый файл (.txt):</label><br>
        <input type="file" name="file"><br><br>

        <label>Или вставьте текст ниже:</label><br>
        <textarea name="text_input" rows="10" cols="50">{{ text }}</textarea><br><br>

        <input type="submit" value="Проанализировать">
    </form>

    {% if analysis %}
    <h2>Результаты анализа:</h2>
    <ul>
        <li>Всего слов (после очистки): {{ analysis.total_words }}</li>
        <li>Уникальных слов: {{ analysis.unique_words }}</li>
        <li>10 самых частых слов:
            <ul>
            {% for word, count in analysis.most_common %}
                <li>{{ word }} — {{ count }}</li>
            {% endfor %}
            </ul>
        </li>
        <li>Повторяющиеся слова (частота > 3): {{ analysis.repeated_words|join(', ') if analysis.repeated_words else "Нет" }}</li>
    </ul>
    {% endif %}
</body>
</html>
